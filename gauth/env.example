# gauth - Go Authentication Service
# Environment Configuration Example

# Environment
ENVIRONMENT=development

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_IDLE_TIMEOUT=120s

# gRPC Configuration
GRPC_HOST=0.0.0.0
GRPC_PORT=9090
GRPC_MAX_RECV_MSG_SIZE=4194304
GRPC_MAX_SEND_MSG_SIZE=4194304
GRPC_CONNECTION_TIMEOUT=10s
GRPC_KEEP_ALIVE_TIME=30s
GRPC_KEEP_ALIVE_TIMEOUT=5s
GRPC_PERMIT_WITHOUT_STREAM=true

# Database Configuration (PostgreSQL)
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=gauth
DB_PASSWORD=change-me-in-production
DB_DATABASE=gauth
DB_SSL_MODE=disable
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_MAX_LIFETIME=5m

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=5
REDIS_DIAL_TIMEOUT=5s
REDIS_READ_TIMEOUT=3s
REDIS_WRITE_TIMEOUT=3s

# Renclave Configuration
RENCLAVE_HOST=localhost
RENCLAVE_PORT=3000
RENCLAVE_USE_TLS=false
RENCLAVE_TIMEOUT=30s

# Authentication Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_EXPIRATION=24h
REFRESH_EXPIRATION=168h
SESSION_TIMEOUT=30m
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=15m
REQUIRE_QUORUM=false
DEFAULT_QUORUM_THRESHOLD=1

# Google OAuth Configuration
GOOGLE_OAUTH_ENABLED=false
GOOGLE_OAUTH_CLIENT_ID=your-google-oauth-client-id
GOOGLE_OAUTH_CLIENT_SECRET=your-google-oauth-client-secret
GOOGLE_OAUTH_REDIRECT_URL=http://localhost:8083/api/v1/auth/google/callback

# Frontend Configuration
FRONTEND_URL=http://localhost:3003

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout
LOG_FILENAME=gauth.log
LOG_MAX_SIZE=100
LOG_MAX_BACKUPS=3
LOG_MAX_AGE=28
LOG_COMPRESS=true

# Security Configuration
TLS_ENABLED=false
TLS_CERT_FILE=
TLS_KEY_FILE=
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3001,https://dashboard.dojima.foundation,https://api.dojima.foundation
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPS=100
RATE_LIMIT_BURST=200
ENCRYPTION_KEY=your-32-byte-encryption-key-here

# Session Configuration
SESSION_COOKIE_NAME=gauth_session
SESSION_COOKIE_DOMAIN=.dojima.foundation
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=lax

# Development only - disable in production
DEBUG=false
PPROF_ENABLED=false
METRICS_ENABLED=true
